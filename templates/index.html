{% extends "base.html" %}

{% block title %}
Vehicle routing
{% endblock %}


{% block content %}
{{ map | safe }}
{% endblock %}


{% block results %}
<!-- Route results -->

{% if inputs["routes"] is defined %}
<div class="container-fluid">
    <div class="row justify-content-center text-center">
        <table class="mt-3">
            <tr>
                <th>Vehicle</th>
                <th>Location id</th>
                <th>Street</th>
                <th>Number</th>
                <th>Postcode</th>
                <th>City</th>
                <th>
                    {% if inputs["objective"] == "distances" %}
                    A -> B km
                    {% else %}
                    A -> B time
                    {% endif %}

                </th>
                <th>
                    {% if inputs["objective"] == "distances" %}
                    Total: {{ (inputs["routes_total"][0]["cost"] / 1000) | round(1) }} km
                    {% else %}
                    Total: {{ inputs["routes_total"][0]["cost"] | seconds_to_time }}
                    {% endif %}
                </th>
            </tr>
            {% for key, location in inputs["routes"].iterrows() %}
            <tr>
                <td>{{ location["vehicle"] }}</td>
                <td>{{ location["location_id"] }}</td>
                <td>{{ location["street"] }}</td>
                <td>{{ location["number"] }}</td>
                <td>{{ location["postcode"] }}</td>
                <td>{{ location["city"] }}</td>
                <td>
                    {% if inputs["objective"] == "distances" %}
                    {{ location["distance"] | round(1) }} km
                    {% else %}
                    {{ location["distance"] | seconds_to_time }}
                    {% endif %}
                </td>
                <td>
                    {% if inputs["objective"] == "distances" %}
                    {{ location["cumulative"] | round(1) }} km
                    {% else %}
                    {{ location["cumulative"] | seconds_to_time }}
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
            </tabel>
    </div>
</div>
{% endif %}
{% endblock %}


<style type="text/css">
    #radios {
        display: block;
    }
</style>